# 이벤트스토밍
이벤트스토밍은 도메인 전문가와 개발자가 함께 참여하는 워크샵 형태의 방법론으로, MSA (Microservices Architecture)를 구현하기 위한 최적의 방법론 중 하나

### 특징
1. **Event-First 접근** : 이벤트스토밍은 시스템에서 발생하는 이벤트를 중심으로 분석함
2. **도메인에 대한 빠른 이해** : Non-Blocking 및 Event-Driven한 MSA 기반 시스템을 분석하고 개발하기 위한 도메인에 대한 빠른 이해를 제공함
3. **사전 훈련 및 도구 불필요** : 이벤트스토밍은 사전 훈련된 지식이나 특수 도구 없이 수행 가능함

### 스티커 유형
<img width="850" alt="image" src="https://github.com/ChoMyeongHwan/TIL/assets/114536581/c30895c1-2041-465b-beb1-93050683a28e">

### 진행 단계
1. **Event 정의** : 시스템에서 발생하는 비즈니스 이벤트를 도출하고, 이를 오렌지색 스티커에 기술하고 벽면에 붙인다
2. **Policy 정의** : 이벤트에 대한 폴리시를 도출하여 이벤트 아래에 덧붙입니다. 이 폴리시는 이벤트가 발생한 후의 반응형 액션을 나타낸다.
3. **Command 도출** : 이벤트를 발생시키는 커맨드를 도출하고, 해당 커맨드는 이벤트 스티커 앞쪽에 붙여 나레이션을 정렬한다.
4. **Actor 정의** : 커맨드를 발생시키는 주체(사람, 시스템 등)를 나타내는 액터를 정의한다.
5. **Aggregate 정의** : 어그리게잇을 도출하여 ACID한 트랜잭션에 묶여 변화해야 할 객체의 묶음을 정의하고 커맨드와 이벤트와 함께 묶는다.
6. **Bounded Context 도출** : Bounded Context를 설정하고 객체 범위를 정의합니다. 하나의 Bounded Context는 하나 이상의 어그리게잇을 포함할 수 있다.
7. **Context 매핑** : Bounded Context 간의 정보 참조 릴레이션을 설정하는 작업을 컨텍스트 매핑이라고 한다.

### 이벤트스토밍 주요 방식
이벤트스토밍은 두 가지 주요 방식으로 구현될 수 있다.

- **Orchestration(오케스트레이션)** : 이벤트를 발행하는 주체에서 모든 폴리시를 호출하는 방식으로, 서비스 간 커플링이 높고 블로킹 문제가 발생할 수 있음
- **Choreography(코레오그래피)** : 폴리시를 구현하는 주체들이 이벤트에 자율적으로 반응하여 서비스를 실행하는 방식으로, 서비스 간 커플링이 낮고 장애 전파 우려가 적음

<aside>
💡 이벤트스토밍을 통해 도메인을 분석하고 마이크로서비스 아키텍처를 설계하는 데 유용한 정보를 얻을 수 있다.
</aside>

### 참고자료
[msaschool - msaschool](https://www.msaschool.io/operation/design/design-three/)
